{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Scratch\\\\frontend\\\\src\\\\pages\\\\Member\\\\MemberWorkoutHistoryPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MemberWorkoutHistoryPage = () => {\n  _s();\n  const [sessions, setSessions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const {\n    auth\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const fetchHistory = async () => {\n      if (!auth || !auth.token) {\n        setIsLoading(false);\n        setError(\"Vui lòng đăng nhập để xem lịch sử.\");\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${auth.token}`\n          }\n        };\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/members/my-workout-history`, config);\n        setSessions(res.data);\n      } catch (err) {\n        setError('Không thể tải lịch sử tập luyện.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchHistory();\n  }, [auth]);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0110ang t\\u1EA3i l\\u1ECBch s\\u1EED...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 27\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"management-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/dashboard\",\n      className: \"btn-back-dashboard\",\n      children: \"\\u2190 Quay l\\u1EA1i Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: \"L\\u1ECBch s\\u1EED T\\u1EADp luy\\u1EC7n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-list\",\n      children: sessions.length > 0 ? sessions.map(session => {\n        var _session$Trainer, _session$Trainer$Prof;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: new Date(session.sessionDatetime).toLocaleDateString('vi-VN')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge status-${session.status.toLowerCase()}`,\n              children: session.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Bu\\u1ED5i t\\u1EADp:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 32\n              }, this), \" \", session.exercisePlan]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Th\\u1EDDi l\\u01B0\\u1EE3ng:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 32\n              }, this), \" \", session.durationMinutes, \" ph\\xFAt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Hu\\u1EA5n luy\\u1EC7n vi\\xEAn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 32\n              }, this), \" \", ((_session$Trainer = session.Trainer) === null || _session$Trainer === void 0 ? void 0 : (_session$Trainer$Prof = _session$Trainer.Profile) === null || _session$Trainer$Prof === void 0 ? void 0 : _session$Trainer$Prof.full_name) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), session.trainerNotes && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Ghi ch\\xFA c\\u1EE7a HLV:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 57\n              }, this), \" \", session.trainerNotes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 54\n            }, this), session.evaluationScore !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evaluation-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0110\\xE1nh gi\\xE1:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 37\n              }, this), \" \", session.evaluationScore, \"/10 - \", session.evaluationComments]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)]\n        }, session.session_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"B\\u1EA1n ch\\u01B0a c\\xF3 bu\\u1ED5i t\\u1EADp n\\xE0o trong l\\u1ECBch s\\u1EED.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(MemberWorkoutHistoryPage, \"SjF8Fp4cfWrVxSrxdwSJ2uLM/4Y=\");\n_c = MemberWorkoutHistoryPage;\nexport default MemberWorkoutHistoryPage;\nvar _c;\n$RefreshReg$(_c, \"MemberWorkoutHistoryPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","Link","AuthContext","jsxDEV","_jsxDEV","MemberWorkoutHistoryPage","_s","sessions","setSessions","isLoading","setIsLoading","error","setError","auth","fetchHistory","token","config","headers","Authorization","res","get","process","env","REACT_APP_API_URL","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","className","to","marginTop","length","map","session","_session$Trainer","_session$Trainer$Prof","Date","sessionDatetime","toLocaleDateString","status","toLowerCase","exercisePlan","durationMinutes","Trainer","Profile","full_name","trainerNotes","evaluationScore","evaluationComments","session_id","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Scratch/frontend/src/pages/Member/MemberWorkoutHistoryPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthContext from '../../contexts/AuthContext';\r\n\r\nconst MemberWorkoutHistoryPage = () => {\r\n    const [sessions, setSessions] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const { auth } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        const fetchHistory = async () => {\r\n            if (!auth || !auth.token) {\r\n                setIsLoading(false);\r\n                setError(\"Vui lòng đăng nhập để xem lịch sử.\");\r\n                return;\r\n            }\r\n\r\n            setIsLoading(true);\r\n            try {\r\n                const config = { headers: { Authorization: `Bearer ${auth.token}` } };\r\n                const res = await axios.get(`${process.env.REACT_APP_API_URL}/members/my-workout-history`, config);\r\n                setSessions(res.data);\r\n            } catch (err) {\r\n                setError('Không thể tải lịch sử tập luyện.');\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchHistory();\r\n    }, [auth]);\r\n\r\n    if (isLoading) return <p>Đang tải lịch sử...</p>;\r\n    if (error) return <p style={{color: 'red'}}>{error}</p>;\r\n\r\n    return (\r\n        <div className=\"management-page-container\">\r\n            <Link to=\"/dashboard\" className=\"btn-back-dashboard\">← Quay lại Dashboard</Link>\r\n            <h2 style={{marginTop: '1rem'}}>Lịch sử Tập luyện</h2>\r\n\r\n            <div className=\"session-list\">\r\n                {sessions.length > 0 ? sessions.map(session => (\r\n                    <div key={session.session_id} className=\"session-item\">\r\n                        <div className=\"session-header\">\r\n                            <strong>{new Date(session.sessionDatetime).toLocaleDateString('vi-VN')}</strong>\r\n                            <span className={`status-badge status-${session.status.toLowerCase()}`}>{session.status}</span>\r\n                        </div>\r\n                        <div className=\"session-body\">\r\n                            <p><strong>Buổi tập:</strong> {session.exercisePlan}</p>\r\n                            <p><strong>Thời lượng:</strong> {session.durationMinutes} phút</p>\r\n                            <p><strong>Huấn luyện viên:</strong> {session.Trainer?.Profile?.full_name || 'N/A'}</p>\r\n                            {session.trainerNotes && <p><strong>Ghi chú của HLV:</strong> {session.trainerNotes}</p>}\r\n                            {session.evaluationScore !== null && (\r\n                                <div className=\"evaluation-summary\">\r\n                                    <strong>Đánh giá:</strong> {session.evaluationScore}/10 - {session.evaluationComments}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )) : (\r\n                    <p>Bạn chưa có buổi tập nào trong lịch sử.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MemberWorkoutHistoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}